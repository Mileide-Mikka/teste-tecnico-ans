<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Operadoras de SaÃºde - ANS</title>
    <script src="script.js" defer></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <h1>ğŸ¥ Operadoras de SaÃºde - ANS</h1>
        <p class="subtitle">VisualizaÃ§Ã£o de despesas com eventos/sinistros</p>
        <p class="subtitle">Desenvolvido por Mileide Silda de Arruda</p>
    </header>

    <div class="container">
        <!-- CARD 1: BUSCA E LISTAGEM -->
        <div class="card">
            <h2>ğŸ” Busca de Operadoras</h2>

            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Digite o nome da operadora ou CNPJ..."
                    onkeyup="filtrarTabela()">
                <button onclick="carregarDados()">Atualizar Dados</button>
            </div>

            <div id="loading" class="loading" style="display: none;">
                â³ Carregando dados...
            </div>

            <div id="error" class="error" style="display: none;">
                âŒ Erro ao carregar dados
            </div>

            <div class="table-container" id="tableContainer">
                <table id="operadorasTable">
                    <thead>
                        <tr>
                            <th>RazÃ£o Social</th>
                            <th>CNPJ</th>
                            <th>UF</th>
                            <th>Despesas (R$)</th>
                            <th>AÃ§Ãµes</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- Os dados serÃ£o inseridos aqui pelo JavaScript -->
                    </tbody>
                </table>
            </div>

            <div class="pagination" id="pagination">
                <button onclick="mudarPagina(-1)" id="prevBtn" disabled>â† Anterior</button>
                <span id="pageInfo">PÃ¡gina 1 de 1</span>
                <button onclick="mudarPagina(1)" id="nextBtn" disabled>PrÃ³xima â†’</button>
            </div>
        </div>

        <!-- CARD 2: GRÃFICO DE DISTRIBUIÃ‡ÃƒO -->
        <div class="card">
            <h2>ğŸ“Š DistribuiÃ§Ã£o por Estado (UF)</h2>
            <div class="chart-container">
                <div class="chart-placeholder" id="chartPlaceholder">
                    <div class="icon">ğŸ“ˆ</div>
                    <p>Clique em "Ver Detalhes" em uma operadora para ver o grÃ¡fico</p>
                </div>
                <canvas id="ufChart" style="display: none;"></canvas>
            </div>
        </div>

        <!-- CARD 3: DETALHES DA OPERADORA -->
        <div class="card" id="detailsCard" style="display: none;">
            <h2>ğŸ‘ï¸ Detalhes da Operadora</h2>
            <div id="detailsContent">
                <!-- Detalhes serÃ£o inseridos aqui -->
            </div>
        </div>

        <!-- CARD 4: ESTATÃSTICAS GERAIS -->
        <div class="card">
            <h2>ğŸ“ˆ EstatÃ­sticas Gerais</h2>
            <div class="stats-grid" id="statsGrid">
                <div class="stat-item">
                    <div class="stat-label">Total de Operadoras</div>
                    <div class="stat-value" id="totalOperadoras">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">Despesas Totais</div>
                    <div class="stat-value" id="totalDespesas">R$ 0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">MÃ©dia por Operadora</div>
                    <div class="stat-value" id="mediaDespesas">R$ 0</div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Teste TÃ©cnico - Intuitive Care | Desenvolvido com Flask e Vue.js (simplificado)</p>
        <p>E-mail: mileydesilvaarruda@gmail.com | Contato: (XX) XXXXX-XXXX</p>
    </footer>

</body>

</html>